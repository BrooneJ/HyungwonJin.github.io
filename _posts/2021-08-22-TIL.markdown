---
layout: post
title: "210822-TIL(Redux)"
subtitle: "TIL-210822"
categories: til
tags: til
comments: false
---
# ğŸ“ ê³µë¶€í•  ê±°ë¦¬
---
img íƒœê·¸ ì•ˆì—ì„œ role="presentation"ì€ ë­˜ ê°€ë¦¬í‚¤ëŠ”ê°€?

â›°ğŸ”ğŸ—»ğŸŒ‹ğŸâ›°ğŸ”ğŸ—»ğŸŒ‹ğŸâ›°ğŸ”ğŸ—»ğŸŒ‹ğŸâ›°ğŸ”ğŸ—»ğŸŒ‹ğŸâ›°ğŸ”ğŸ—»ğŸŒ‹ğŸâ›°ğŸ”ğŸ—»ğŸŒ‹ğŸâ›°ğŸ”ğŸ—»ğŸŒ‹ğŸâ›°ğŸ”ğŸ—»ğŸŒ‹ğŸâ›°      
<br/>

## ğŸŒŸ PostImages
---
ì´ë¯¸ì§€ ê²Œì‹œë¬¼ì„ ë“±ë¡í•˜ë©´ í™”ë©´ì— ì–´ë–»ê²Œ ë³´ì¼ì§€ ì„¤ì •      
```javascript
import React, { useState, useCallback } from 'react'
import PropTypes from 'prop-types';

import { PlusOutlined } from '@ant-design/icons';

const PostImages = ({ images }) => {
    const [showImageZoom, setShowImagesZoom] = useState(false);
    // ì´ë¯¸ì§€ë¥¼ í´ë¦­í–ˆì„ ë•Œ ì „ì²´í™”ë©´ì„ êµ¬í˜„í•˜ê¸° ìœ„í•œ ê¸°ëŠ¥
    const onZoom = useCallback(() => {
        setShowImagesZoom(true);
    }, []);
    if (images.length === 1) { // ì´ë¯¸ì§€ê°€ 1ê°œ ì¼ ë•Œ
        return (
            <>
                <img role="presentation" src={images[0].src} alt={images[0].src} onClick={onZoom} />
                // presentationì´ ë­”ì§€ ì¡°ì‚¬í•´ë³´ì
                // ì¥ì• ì¸ì„ ìœ„í•œ ê¸°ëŠ¥ì´ë¼ê³  í•¨
                // ì‚¬ì „ì— ì–´ë–¤ ì‹ìœ¼ë¡œ ë³´ì—¬ì¤„ì§€ ì¸ì§€ì‹œí‚¨ë‹¤ê³  í•¨
            </>
        )
    }
    if (images.length === 2) { // ì´ë¯¸ì§€ê°€ 2ê°œ ì¼ ë•Œ
        return (
            <>
                <img role="presentation" style={{ width: "50%", display: "inline-block" }} src={images[0].src} alt={images[0].src} onClick={onZoom} />
                <img role="presentation" style={{ width: "50%", display: "inline-block" }} src={images[1].src} alt={images[1].src} onClick={onZoom} />
            </>
        )
    }
    return (
        <>
            <div>
                <img role="presentation" width="50%" src={images[0].src} alt={images[0].src} onClick={onZoom} />
                <div
                    role="presentation"
                    style={{ display: 'inline-block', width: "50%", textAlign: "center", verticalAlign: 'middle' }}
                    onClick={onZoom}
                >
                    <PlusOutlined />
                    <br />
                    {images.length - 1}
                    ê°œì˜ ì‚¬ì§„ ë”ë³´ê¸°
                </div>
            </div>
        </>
    )
}

PostImages.propTypes = {
    images: PropTypes.arrayOf(PropTypes.object),
}

export default PostImages
```
â›°ğŸ”ğŸ—»ğŸŒ‹ğŸâ›°ğŸ”ğŸ—»ğŸŒ‹ğŸâ›°ğŸ”ğŸ—»ğŸŒ‹ğŸâ›°ğŸ”ğŸ—»ğŸŒ‹ğŸâ›°ğŸ”ğŸ—»ğŸŒ‹ğŸâ›°ğŸ”ğŸ—»ğŸŒ‹ğŸâ›°ğŸ”ğŸ—»ğŸŒ‹ğŸâ›°ğŸ”ğŸ—»ğŸŒ‹ğŸâ›°      
<br/>

## ğŸŒŸ ì´ë¯¸ì§€ ìºë£¨ì…€ êµ¬í˜„í•˜ê¸°
---
ì˜†ìœ¼ë¡œ ìŠ¬ë¼ì´ë“œ í•´ì„œ ì‚¬ì§„ì„ ë³´ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ **react-slick**ì´ë¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜     
```
npm i react-slick
```
ImagesZoom/index.js
```javascript
import React, { useState } from "react";
import PropTypes from "prop-types";

import Slick from "react-slick";

import { // styles.js ë¡œ ë¹¼ì¤Œ
    Overlay,
    Header,
    SlickWrapper,
    ImgWrapper,
    Indicator,
    Global,
    CloseBtn
} from "./styles";

const ImageZoom = ({ images, onClose }) => {
    const [currentSlide, setCurrentSlide] = useState(0);
    // í˜„ì¬ ìŠ¬ë¼ì´ë“œê°€ ëª‡ í˜ì´ì§€ì¸ì§€ ìƒíƒœë¥¼ ì €ì¥

    return (
        <Overlay>
            <Header>
                <h1>ìƒì„¸ ì´ë¯¸ì§€</h1>
                <button onClick={onClose}>X</button>
            </Header>
            <SlickWrapper>
                <div>
                    <Slick
                        initialSlide={0}
                        afterChange={(slide) => setCurrentSlide(slide)}
                        infinite
                        arrows={false}
                        slidesToShow={1}
                    >
                        {images.map((v) => (
                            <ImgWrapper key={v.src}>
                                <img src={v.src} alt={v.src} />
                            </ImgWrapper>
                        ))}
                    </Slick>
                </div>
            </SlickWrapper>
        </Overlay>
    )
}

ImageZoom.propTypes = {
    images: PropTypes.arrayOf(PropTypes.object).isRequired,
    onClose: PropTypes.func.isRequired,
}

export default ImageZoom;
```

<br/>

ImagesZoom/styles.js
```javascript
import styled, { createGlobalStyle } from "styled-components";
import { CloseOutlined } from "@ant-design/icons";
export const Overlay = styled.div`
    position: fixed;
    z-index: 5000;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
`;

// ê°€ì¥ í° ë‹¨ìœ„ë¥¼ header -> Headerê³¼ ê°™ì´ ë°”ê¿”ì£¼ê³  
// ë‚´ë¶€ì˜ ì‘ì€ tagë“¤ì„ Sassì²˜ëŸ¼ & ì—°ì‚°ìë¥¼ ì‚¬ìš©í•´ì„œ ì§€ì •í•´ì¤„ ìˆ˜ ìˆë‹¤.
export const Header = styled.header`
    height: 44px;
    background: white;
    position: relative;
    padding: 0;
    text-align: center;

    & h1 {
        margin: 0;
        font-size: 17px;
        color: #333;
        line-height: 44px;
    }
`;

export const SlickWrapper = styled.div`
    height: calc(100% - 44px);
    background: #090909;
`;

export const ImgWrapper = styled.div`
    padding: 32px;
    text-align: center;

    & img {
        margin: 0 auto;
        max-height: 750px;
    }
`;

export const Indicator = styled.div`
    text-align: center;

    & > div {
        width: 75;
        height: 30px;
        line-height: 30px;
        border-radius: 15px;
        background: #313131;
        display: inline-block;
        text-align: center;
        color: white;
        font-size: 15px;
    }
`;

export const Global = createGlobalStyle`
    .slick-slide {
        display: inline-block;
    }
`;

export const CloseBtn = styled(CloseOutlined)`
    position: absolute;
    right: 0;
    top: 0;
    padding: 15px;
    line-height: 14px;
    cursor: pointer;
`;

```

â›°ğŸ”ğŸ—»ğŸŒ‹ğŸâ›°ğŸ”ğŸ—»ğŸŒ‹ğŸâ›°ğŸ”ğŸ—»ğŸŒ‹ğŸâ›°ğŸ”ğŸ—»ğŸŒ‹ğŸâ›°ğŸ”ğŸ—»ğŸŒ‹ğŸâ›°ğŸ”ğŸ—»ğŸŒ‹ğŸâ›°ğŸ”ğŸ—»ğŸŒ‹ğŸâ›°ğŸ”ğŸ—»ğŸŒ‹ğŸâ›°      
<br/>

## ğŸŒŸ ì •ê·œì‹ regExr
---
ì •ê·œì‹ í…ŒìŠ¤íŠ¸ í•˜ëŠ” ì‚¬ì´íŠ¸       
<https://regexr.com/>    

```javascript
ë„ì–´ì“°ê¸° ìˆëŠ” ê²½ìš°: #í•´ì‹œíƒœê·¸ #ìµìŠ¤í”„ë ˆìŠ¤
ë¶™ì–´ìˆëŠ” ê²½ìš°: #ì²«ë²ˆì§¸#ë‘ë²ˆì§¸
í•´ì‹œíƒœê·¸ ì—¬ëŸ¬ê°œì¸ ê²½ìš°: ###í•´ì‹œíƒœê·¸

//g -> gê°€ ë¶™ìœ¼ë©´ globalì´ë¼ëŠ” ì˜ë¯¸ë¡œ í•´ë‹¹ë˜ëŠ” ê²ƒì„ ì „ë¶€ ë‹¤ ì°¾ìŒ
/#/g => ì²«ë²ˆì§¸ì— #ìˆëŠ” ê²½ìš° ì „ë¶€ ì°¾ìŒ
/#./g => .ê°¯ìˆ˜ì— ë”°ë¼ # ë’¤ì— ëª‡ê°œì˜ ë¬¸ìê¹Œì§€ í¬í•¨í•  ê±´ì§€ ë‚˜íƒ€ëƒ„
/#.+/g => # ë’¤ì— ì „ë¶€ ì„ íƒ
/#[]+/g => ëŒ€ê´„í˜¸ ì•ˆì— ìˆëŠ” ê²ƒ ì¤‘ì— ì„ íƒ
/#[^]+/g => ^ë’¤ì— ë“¤ì–´ê°€ëŠ” ê²ƒì„ ì œì™¸í•¨
ã„´ /#[^\s]+/g => ê³µë°±ì´ ë“¤ì–´ê°€ëŠ” ê²ƒì„ ì œì™¸
ã„´ /#[^/s#]+/g => ê³µë°±ê³¼ #ì´ ë“¤ì–´ê°€ë©´ ëŠì–´ì¤Œ


// Tip
//splitì¸ ê²½ìš°
[].split(/(#[^/s#]+)/g); //ì™€ ê°™ì´ ë‚´ë¶€ì— ()ë¥¼ ë§Œë“¤ì–´ì¤˜ì•¼í•¨
```

â›°ğŸ”ğŸ—»ğŸŒ‹ğŸâ›°ğŸ”ğŸ—»ğŸŒ‹ğŸâ›°ğŸ”ğŸ—»ğŸŒ‹ğŸâ›°ğŸ”ğŸ—»ğŸŒ‹ğŸâ›°ğŸ”ğŸ—»ğŸŒ‹ğŸâ›°ğŸ”ğŸ—»ğŸŒ‹ğŸâ›°ğŸ”ğŸ—»ğŸŒ‹ğŸâ›°ğŸ”ğŸ—»ğŸŒ‹ğŸâ›°      
<br/>

## ğŸŒŸ PostCardContent
---
í•´ì‹œíƒœê·¸ë¥¼ ì²˜ë¦¬í•´ì£¼ëŠ” ê¸°ëŠ¥ì„ ë‹´ë‹¹           
```javascript
import React from 'react'
import Link from 'next/link';
import PropTypes from 'prop-types';

const PostCardContent = ({ postData }) => {
    return (
        <div>
            {postData.split(/(#[^\s#]+)/g).map((v, i) => {
                if (v.match(/(#[^\s#]+)/)) {
                    return 
                    <Link 
                        href={`/hashtag/${v.slice(1)}`} // #ì„ ë–¼ëƒ„
                        key={i}><a>{v}</a></Link>
                }
                return v;
            })}
        </div>
    )
}

PostCardContent.propTypes = {
    postData: PropTypes.string.isRequired,
}

export default PostCardContent
```


