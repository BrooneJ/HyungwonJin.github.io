---
layout: post
title: "211210-TIL(DnD)"
subtitle: "TIL-211210"
categories: til
tags: til-2021-12
comments: false
---

![1-1](/assets/img/TIL.jpeg)

# í˜„ì¬ ì„ íƒí•œ ìš”ì†Œë¥¼ ë‹¤ë¥¸ ìš”ì†Œë¡œ ì˜®ê¸¸ ë•Œ

---

í˜„ì¬ ë“œë˜ê·¸í•œ ìš”ì†Œê°€ ì´ë™í•˜ê³  ìˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ë°©ë²•

ğŸ—‚ Component/board.tsx ì—ì„œ

```js
const Board = ({ toDos, boardId }: IBoardProps) => {
  return (
    <Wrapper>
      <Title>{boardId}</Title>
      <Droppable droppableId={boardId}>
        {(magic, info) => (
          ...
        )}
      </Droppable>
    </Wrapper>
  );
};
```

> infoì„ ì˜¤ë¥¸ìª½ í´ë¦­í•´ì„œ definitionì„ í´ë¦­í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ì½”ë“œë¥¼ ë³¼ ìˆ˜ ìˆë‹¤.
>
> ```js
> export interface DroppableStateSnapshot {
>   isDraggingOver: boolean;
>   draggingOverWith?: DraggableId | undefined;
>   draggingFromThisWith?: DraggableId | undefined;
>   isUsingPlaceholder: boolean;
> }
> ```

ì—¬ê¸°ì„œ í˜„ì¬ ë“œë˜ê·¸í•˜ê³  ìˆëŠ”ì§€ ì–´ë–¤ ì§€ ìƒíƒœë¥¼ í™•ì¸í•  ìˆ˜ ìˆëŠ” ìš”ì†Œë“¤ì´ ìˆë‹¤ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

ê·¸ ìš”ì†Œë“¤ì„ ì ìš©í•´ë³´ë©´

```js
interface IAreaProps {
  isDraggingFromThis: boolean;
  isDragginOver: boolean;
}

const Area = styled.div'<IAreaProps>'`
  background-color: ${(props) =>
    props.isDragginOver ? "pink" : props.isDraggingFromThis ? "red" : "blue"};
    // ë“œë˜ê·¸ ìš”ì†Œê°€ ì´ ë°•ìŠ¤ ìœ„ì— ìˆìœ¼ë©´ pink, ë“œë˜ê·¸ ìš”ì†Œê°€ ë– ë‚œ boardì´ë©´ red ì•„ë‹ˆë©´ blue
  flex-grow: 1;
  transition: background-color 0.3s ease-in-out;
`;

<Droppable droppableId={boardId}>
  {(magic, info) => (
    <Area
      isDragginOver={info.isDraggingOver} // ë“œë˜ê·¸ ìš”ì†Œê°€ boardìœ„ì— ì˜¬ë¼ì™”ëŠ”ì§€
      isDraggingFromThis={Boolean(info.draggingFromThisWith)} // ë“œë˜ê·¸ ìš”ì†Œê°€ ë– ë‚œ boardì¸ì§€
      ref={magic.innerRef}
      {...magic.droppableProps}
    >
      {toDos.map((toDo, index) => (
        <DragableCard key={toDo} index={index} toDo={toDo} />
      ))}
      {magic.placeholder}
    </Area>
  )}
</Droppable>
```

ğŸ—‚ DraggableCard.tsxì—ì„œë„ ì‚¬ìš©ê°€ëŠ¥

```js
const Card = styled.div<{ isDragging: boolean }>`
  ...
  background-color: ${(props) =>
    props.isDragging ? "#74b9ff" : props.theme.cardBgColor};
  box-shadow: ${(props) =>
    props.isDragging ? "0px 2px 5px rgba(0,0,0,0.5)" : "none"};
`;
...
const DragableCard = ({ toDo, index }: IDragableCardProps) => {
  return (
    <Draggable key={toDo} draggableId={toDo} index={index}>
      {(magic, snapshot) => (
        <Card
          isDragging={snapshot.isDragging}
          ref={magic.innerRef}
          {...magic.dragHandleProps}
          {...magic.draggableProps}
        >
          {toDo}
        </Card>
      )}
    </Draggable>
  );
};
```

> snapstopì˜ type definitionì„ í´ë¦­í•˜ë©´ ë‚˜ì˜¤ëŠ” ê²ƒ
>
> ```js
> export interface DraggableStateSnapshot {
>   isDragging: boolean;
>   isDropAnimating: boolean;
>   dropAnimation?: DropAnimation | undefined;
>   draggingOver?: DroppableId | undefined;
>   // the id of a draggable that you are combining with
>   combineWith?: DraggableId | undefined;
>   // a combine target is being dragged over by
>   combineTargetFor?: DraggableId | undefined;
>   // What type of movement is being done: 'FLUID' or 'SNAP'
>   mode?: MovementMode | undefined;
> }
> ```

# ref

---

ìš°ë¦¬ì˜ react ì½”ë“œë¥¼ ì´ìš©í•´ HTML ìš”ì†Œë¥¼ ì§€ì •í•˜ê³ , ê°€ì ¸ì˜¬ ìˆ˜ ìˆëŠ” ë°©ë²•ì´ë‹¤.
